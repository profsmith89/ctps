

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chapter 11: Discover Driving Directions &#8212; Computational Thinking and Problem Solving</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap11';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 12: Divide and Conquer" href="chap12.html" />
    <link rel="prev" title="Chapter 10: Build an Index" href="chap10.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="ctps.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/mike_flat.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/mike_flat.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="ctps.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="welcome.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap01.html">Chapter 1: Read a Children’s Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">Chapter 2: Grab the Dialogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">Chapter 3: Replace Text With Emoji</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">Chapter 4: Query a Web Resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">Chapter 5: Play Guess-a-number</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">Chapter 6: Do You See My Dog?</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">Chapter 7: Many But Not Any Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">Chapter 8: What Is My Problem?</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">Chapter 9: Find a Phrase</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap10.html">Chapter 10: Build an Index</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 11: Discover Driving Directions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap12.html">Chapter 12: Divide and Conquer</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap13.html">Chapter 13: Rewrite the Error Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap14.html">Chapter 14: The Dream of Bug Fixing</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap15.html">Chapter 15: Embrace Runtime Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap16.html">Chapter 16: Catch Them Early</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap17.html">Chapter 17: Build Prediction Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap18.html">Chapter 18: Use Generative AI</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="ales.html">Active-Learning Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ales-c01.html">Chapter 1</a></li>





<li class="toctree-l2"><a class="reference internal" href="ales-c02.html">Chapter 2</a></li>







<li class="toctree-l2"><a class="reference internal" href="ales-c03.html">Chapter 3</a></li>










<li class="toctree-l2"><a class="reference internal" href="ales-c04.html">Chapter 4</a></li>





<li class="toctree-l2"><a class="reference internal" href="ales-c05.html">Chapter 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="ales-c06.html">Chapter 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="ales-c07.html">Chapter 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="ales-c08.html">Chapter 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="ales-c09.html">Chapter 9</a></li>



<li class="toctree-l2"><a class="reference internal" href="ales-c10.html">Chapter 10</a></li>


<li class="toctree-l2"><a class="reference internal" href="ales-c12.html">Chapter 12</a></li>



</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap11.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 11: Discover Driving Directions</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-new-approach-to-programming">A new approach to programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#driving-directions-a-formal-specification">Driving directions, a formal specification</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallels-with-finite-state-machines">Parallels with finite state machines</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solutions-with-particular-characteristics">Solutions with particular characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-walk-before-we-drive">Let’s walk before we drive</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-random-walk">A random walk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#will-it-work">Will it work?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-short-walk-please">A short walk, please</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#no-loops">No loops</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#only-visit-new-spots">Only visit new spots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-dog-walk">A dog walk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation">Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maps-not-city-grids">Maps, not city grids</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#object-oriented-programming">Object-oriented programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-magic-of-magic-methods">The magic of magic methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#actions-specific-to-our-data-type">Actions specific to our data type</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-on-others">Building on others</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-an-instance">Building an instance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#representational-invariant">Representational invariant</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#self">Self</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-and-class-variables">Instance and class variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-maps">General maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keeping-track">Keeping track</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maintaining-a-frontier">Maintaining a frontier</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remembering-how-we-got-there">Remembering how we got there</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-solution">The solution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#depth-first-search-dfs">Depth-first search (DFS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breadth-first-search-bfs">Breadth-first search (BFS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#informed-searches">Informed searches</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-11-discover-driving-directions">
<h1>Chapter 11: Discover Driving Directions<a class="headerlink" href="#chapter-11-discover-driving-directions" title="Permalink to this heading">#</a></h1>
<p>We began this act with a search problem that asked us to create a listing of all web pages that mention a particular keyword or phrase. Search was effectively a question of matching. Are there problems that we think of as search that more than just matching against a pattern? Google definitely thinks about search much more broadly. It searches over many different sources of digital information seeking answers to our questions.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Google Maps</p>
<p>It didn’t take many years of Google’s existence before it realized that maps and mapping should an important part of its web services. As a fun look at the history of Google Maps and how middle-aged entrepreneurs working civilized hours launched what has become Maps, you might read <a class="reference external" href="https://medium.com/&#64;lewgus/the-untold-story-about-the-founding-of-google-maps-e4a5430aec92">this short Medium article</a>.</p>
</aside>
<p>In this chapter, we expand our definition of a search problem to include the many processes we use in our daily lives to find solutions to questions for which we have a well-described goal. We will consider several different instances of this, but one of the most recognizable examples of <em>goal-directed search</em> is the finding of a path from one point on a map to another. You have almost certainly used this type of software in driving across the country or walking in an unfamiliar city, and how such software works is this chapter’s problem-to-be-solved.</p>
<section id="a-new-approach-to-programming">
<p><strong>A new approach to programming.</strong> In addition to introducing a new problem-solving technique (i.e., goal-directed search), this chapter’s problem will require us to move beyond a <em>procedural approach</em> to programming. To this point, we decomposed each problem into functional components and then “wired” these components together in a sequence of steps that when executed produced a solution. This approach is not that much different than the recipes we follow when cooking. And with a recipe (i.e., an algorithm), we took its functional components and separately designed them.</p>
<p>This approach uses the power of abstraction to create a public interface that hides each function’s implementation. This is <em>functional abstraction</em>, and it allows us to think first about a component’s outputs in terms of its inputs, and then later worry about the set of computational steps that would turn specific inputs into the desired outputs. And when the public interface created a useful abstraction, we found that we could reuse this function across our program and hopefully other programs we or others might write.</p>
<p><em>Encapsulation</em> is another benefit of the use of a public interface and hidden implementation. When we hide a function’s implementation, we can test, debug, and even change the function’s implementation without affecting the sites that call our function. By now, you know that creating a correct program is hard work and that it’s practically impossible to write a correct program in one go. But by using functional abstraction and encapsulation, we can build toward a correct program, one piece at at time. And when we miscode a component, we can fix the bugs in that component without causing a domino of changes in the rest of our program.</p>
<p>In sum, we use decomposition and functional abstraction to break complex problems into simpler pieces, and functional abstraction and encapsulation to code each piece separately.</p>
<p>While a procedural approach to programming works well, it has limits. When the objects that our scripts manipulate are ones built into Python (e.g., strings, ints, and lists) or ones provided in some module built by a Python programmer (e.g., network responses and digital images), focusing on the functions in the recipe works well. However, to solve this chapter’s problem, we are going to need to think about more than its component tasks. We are going to need to build our own objects, i.e., some of the ingredients needed in our recipe. In other words, we are going to need to build our own <em>data abstractions</em>.</p>
<p>But have no fear (said the Cat in the Hat), you already have the tools you need to build data abstractions: decomposition, abstraction, and encapsulation! When applied to data (instead of just procedures), you enter the exciting world of <em>object-oriented programming (OOP).</em> Python is an object-oriented programming language, which means that it contains features designed to make data abstraction easy.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Building Off Others</p>
<p>The challenge in designing algorithms and data structures is in discovering functional and data abstractions that are simultaneously: (1) easily understood by humans; (2) easily coded in an existing programming language; (3) easily executed by existing computers; and (4) easily mapped to real-world problems. Achieving all four isn’t easy, and an important reason to be familiar with classical algorithms and data structures is because they have been shown to exhibit all these features. We avoid this challenge because problem solving with computation is more about selecting which classical algorithms and data structures are problem-appropriate than it is about discovering entirely new algorithms and data structures.</p>
</aside>
<p>By the end of this chapter, you will have gained the ability to create recipes and ingredients, which will allow you to solve an unbelievably wide range of complex, real-world problems. Computer scientists think of this pairing as <em>algorithms and data structures</em>. There are many elegant ideas in this space, and through the rest of this act, you’ll get a taste of the rich world of classical algorithms and data structures.</p>
<div class="admonition-learning-outcomes admonition">
<p class="admonition-title">Learning Outcomes</p>
<p>Learn to write a script for goal-directed search and to simulate what you cannot analytically solve. You will understand the difference between procedural and object-oriented programming, and you’ll build classes for data structures relevant to your problem. You’ll learn the power and shortcomings of heuristics in algorithms. In particular, you will be able to:</p>
<ul class="simple">
<li><p>Describe the components of a formal specification for a goal-directed search problem [design and CS concepts];</p></li>
<li><p>Discuss the parallel nature of goal-directed search and finite state machines [design and CS concepts];</p></li>
<li><p>Code a random walk across a graph-like data structure with nodes and edges [programming skills];</p></li>
<li><p>Argue that the random walk you coded will terminate [CS concepts];</p></li>
<li><p>Simulate real-world phenomenon and discuss what you can learn from these simulations [design and CS concepts];</p></li>
<li><p>Understand the benefits of object-oriented programming and how it differs from procedural programming [CS concepts];</p></li>
<li><p>State the differences between a class and an instance of that class [CS concepts];</p></li>
<li><p>Use classes to build your own data structure and inheritance to avoid duplicating code found in related classes [design and programming skills];</p></li>
<li><p>Employ Python’s magic methods so that the objects you build look like they were built into Python [programming skills];</p></li>
<li><p>Describe the purpose of Python’s <code class="docutils literal notranslate"><span class="pre">self</span></code> convention [programming skills];</p></li>
<li><p>Discuss the importance of the representational invariant for writing robust object-oriented code [CS concepts];</p></li>
<li><p>Understand how to build a data structure that represents a map and practice building your own classes [programming skills];</p></li>
<li><p>Write a script that finds solution to the driving directions problem and specialize it to perform searches with different algorithmic characteristics (i.e., breadth-first and depth-first search) [design and CS concepts];</p></li>
<li><p>Describe the difference between uninformed and informed searches, and state the power (and danger) of heuristics [CS concepts].</p></li>
</ul>
</div>
</section>
<section id="driving-directions-a-formal-specification">
<p><strong>Driving directions, a formal specification.</strong> Solving a goal-directed search problem, like the finding of directions from one point on a map to another, is fairly easy if you understand the key components that model any goal-directed search problem. To illustrate that these components describe more than this specific goal-directed search problem, I’ll also use these components to formally specify the problem of cooking a delicious meal.</p>
<p>Each goal-directed search problem has <em>a starting (or initial) state</em> and <em>a goal state</em>. These states can be as simple as “I’m here” (starting state) and “I want to be there” (goal state), or “I have these ingredients available to me” (initial state) and “I want to serve a delicious dinner” (goal state).</p>
<p>Besides these two states, goal-directed search problems have <em>a set of valid actions</em> through which we can manipulate <em>the current state</em>. In the driving context, I have a set of roads (the valid actions) that move me from one location (the current state) to another. In the cooking context, I have a set of kitchen instruments and things I can do with them (the valid actions) that change the state of the ingredients.</p>
<p>The many road locations and partially prepared mixtures of ingredients are states, along with our designated start and goal states, that exist in the problem’s complete search space. We might be able to enumerate all these states for a particular goal-directed search problem, but in real applications, we don’t often try. All that matters is that we can distinguish one unique state from another, which is, once again, an encoding problem that translates a collection of real-world things in a computational form.</p>
<p><em>The solution</em> to a goal-directed search problem is a finite sequence of valid actions that when performed transform the start state into the goal state. If we cannot find such a sequence, there is no solution to the problem (e.g., there are no roads that take you from your starting location to your desired goal location).</p>
</section>
<section id="parallels-with-finite-state-machines">
<p><strong>Parallels with finite state machines.</strong> Does this model description remind you of a finite state machine (FSM), which we discussed in Chapter 2? It should! We drew a FSM as a model with nodes, which captured their current state information, and directed edges between these nodes, which were the allowable actions that changed the state represented by the node at the edge’s tail to that represented by the node at the edge’s head. The same is true in a goal-directed search model.</p>
<p>While both models have a single start state, they may differ in their number of goal states. You’ll recall that a FSM may have one or more goal states, which together cover the set of valid input strings. In goal-directed search, we typically have a single goal state.</p>
<p>To understand importance of this difference, you need to remember the purpose of each model. A FSM distinguishes valid strings from invalid ones. These strings are input to the FSM, and they drive the sequence of steps taken by it. At the end of the input string, the FSM reports whether the sequence ended in a goal state.</p>
<p>In goal-directed search, the sequence of steps is not being driven by some external input. Instead, it is the job of our script to search for some sequence of steps that takes us from the start state to the goal state. If in this search, our code ever hits the goal state, it stops and reports the sequence of steps it found that moved it from the start state to this goal state.</p>
<p>This fundamental difference in purpose is one of the reasons why we talk about the set of all states in a FSM and yet say that we’re not often concerned with the full enumeration of states in a goal-directed search problem. In a FSM, when the input veers off a known path toward a goal state, our script can raise an error. In goal-directed search, we don’t know what sequences of steps lead us to the goal state until we find one, and when we find one, we may be uninterested in finding another.</p>
</section>
<section id="solutions-with-particular-characteristics">
<p><strong>Solutions with particular characteristics.</strong> In goal-directed search, there is a lot we don’t know. First, we don’t know, given a particular set of nodes and edges, if it is possible to get from the start state to the goal state. And when there is a solution, we don’t know if there is more than one.</p>
<p>Sometimes, all we care about is finding a solution (or reporting that there isn’t one), and any one will do just fine. For example, any road that gets me home is a good road. Other times, we may decide to put some constraints on the search problem so that it yields solutions with particular characteristics. For instance, we may not feel that all roads are equally desirable: If we can get home without taking a toll road, that’s what we’d like. A solution with the desired characteristics might not exist, but if one does, our script should return it.</p>
</section>
<section id="let-s-walk-before-we-drive">
<p><strong>Let’s walk before we drive.</strong> Let’s stop talking about what a script that implements goal-directed search should do and start building one. The first thing we need for our problem-to-be-solved is a city map. We can build a nice regular one with the abstract data type <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. We simply have to tell it how big we would like our square grid of city blocks to be.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Running the Code</p>
<p>To run the code blocks in this chapter, you will need to upload <code class="docutils literal notranslate"><span class="pre">maze.py</span></code> and <code class="docutils literal notranslate"><span class="pre">city.py</span></code> from the book’s GitHub repo into your IDE or interactive Python notebook session.</p>
</aside>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">city</span> <span class="kn">import</span> <span class="n">CitySqGrid</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">not_Boston</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">)</span>
</pre></div>
</div>
<p>You’ll notice that, by default, it assumes we are located at the city center, which is where it has put the starting point for our journey.</p>
<p>Now let’s imagine that this city is surrounded by a countryside of open fields, and we’d like to spend our day relaxing in one of these fields and playing with my dog. We don’t care which field, we simply want out of the city for the day.</p>
<aside class="margin sidebar">
<p class="sidebar-title">ASCII Art</p>
<p>Using an emoji for my dog shows the limitation of using ASCII art, which expects monospaced characters. Emoji don’t abide by monospacing. Please excuse the poor spacing caused by the dog face. I find it more fun to look at this emoji than a bland ‘s’ character.</p>
</aside>
<p>The abstract data type <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> has an attribute that we can use to grab the coordinates of the starting location (<code class="docutils literal notranslate"><span class="pre">CitySqGrid.start</span></code>) and another with which we can move my dog around the city map (<code class="docutils literal notranslate"><span class="pre">CitySqGrid.move</span></code>). The form of the direction expected by <code class="docutils literal notranslate"><span class="pre">CitySqGrid.move</span></code> is one of the strings <code class="docutils literal notranslate"><span class="pre">'north'</span></code>, <code class="docutils literal notranslate"><span class="pre">'south'</span></code>, <code class="docutils literal notranslate"><span class="pre">'east'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'west'</span></code>; capitalization doesn’t matter for these strings. By the way, in the code block below, we tell <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> that we want our location on the map to look like my dog <code class="docutils literal notranslate"><span class="pre">Cosmo</span></code> rather than the boring <code class="docutils literal notranslate"><span class="pre">'s'</span></code> character.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/walk.py</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">city</span> <span class="kn">import</span> <span class="n">CitySqGrid</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Our faithful dog</span>
<span class="linenos"> 5</span><span class="n">Cosmo</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\N{DOG FACE}</span><span class="s1">&#39;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="n">nyc</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Cosmo</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="nb">print</span><span class="p">(</span><span class="n">nyc</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="n">loc</span> <span class="o">=</span> <span class="n">nyc</span><span class="o">.</span><span class="n">start</span>
<span class="linenos">11</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">12</span>    <span class="k">if</span> <span class="n">loc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nyc</span><span class="p">:</span>
<span class="linenos">13</span>        <span class="k">break</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="n">direction</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Where to? &#39;</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="n">loc</span> <span class="o">=</span> <span class="n">nyc</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="nb">print</span><span class="p">(</span><span class="n">nyc</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Enjoy your day outside the city!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When we walk my dog around this virtual city, it doesn’t let us walk into a building. Since we don’t live in these buildings, we are not allowed in. What this means is that the <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> data type is smart enough to know that we can walk only on the streets and not off them. This is important if we want to successfully build a set of driving directions that won’t have our car driving through buildings and fields.</p>
</section>
<section id="a-random-walk">
<p><strong>A random walk.</strong> Notice that the script <code class="docutils literal notranslate"><span class="pre">walk.py</span></code> solves one piece of this chapter’s problem: it alerts us when we have reached the goal state (i.e., our walk took us out of the city). Now we need to solve the other half of the problem: get the script on its own, without our active help, to search the city for a route to the goal state.</p>
<p>How might we think about a procedure that would get us from the city center to the fields on the outskirts of the city? And for this question, let’s assume that we don’t know anything about the layout of the city except what we see immediately around us.</p>
<p>If you’ve spent any time solving mazes as a kid, you probably can think up a number of different techniques that might work. I’m going to suggest we have the script do the easiest thing possible: for each step the script takes, it randomly chooses a direction.</p>
<p>This is easy to code, as we’ll do in a moment, but first let’s ask: Will a random walk reliably get us out of a city? The answer to this question should be yes. In fact, for any of the techniques you were just imagining, we want the answer to be yes. If not, then there are some maps on which the technique won’t work, and that’s bad if we assured someone that we had a script that always solves this route-finding problem.</p>
<p>What we’re talking about here is the proof of correctness we mentioned as one of the three formal components of an algorithm. Again, this book doesn’t teach you how to create a formal proof of correctness, but we can make a stab at the form of the proof for a random walk.</p>
</section>
<section id="will-it-work">
<p><strong>Will it work?</strong> To argue that a random walk will get from the start state to the goal state if a path exists, we might begin by thinking about every type of city layout imaginable, and then test our approach against that infinite set of layouts. Yes, that sounds hard and is probably impossible to do.</p>
<p>So instead, good theoreticians and problem solvers transform these hard questions into their equivalent inverse. For us, this means we need to answer the question: What would need to be true to not allow a random walk to find the goal? If we can rigorously argue that there is nothing keeping us from finding a solution, then we can confidently state that a random walk will reliably get us out of any city.</p>
<p>The argument is fairly simple. We begin by eliminating the case where there is no path from the start to the goal state. Clearly a random walk would fail in this case; however, no procedure would find a path that doesn’t exist. As such, the real question is: Is it possible for a random walk to never find a solution path when one exists? The answer to this question is no. If a solution path exists and our algorithm is capable of generating that path, there is some probability that it will randomly generate this sequence of steps and achieve our goal.</p>
</section>
<section id="a-short-walk-please">
<p><strong>A short walk, please.</strong> The kicker is, how long might we have to wait for a script that implements a random walk to find a sequence of steps that end in the goal state? Hard to say, right?</p>
<p>Let’s again transform the question. What structure in a map might make it take an unbounded amount of time to find the solution? The answer might have popped into your mind. A loop!</p>
<p>In reality, we don’t even need a loop in the roads to have a situation where our random walk takes forever. The algorithm might repeatedly generate a step west followed by a step east, and then west, then east, west, east, …. Even in a city with a single road that leads from the city center to a field on the outskirts, this possible sequence of steps would cause our algorithm to never return.</p>
</section>
<section id="no-loops">
<p><strong>No loops.</strong> We can eliminate solutions that take a really large amount of time (and space) to generate by eliminating loops from our search space.</p>
<p>For example, a solution that heads straight east in our city with a square grid is a solution to our problem. One that heads straight east, but loops around the first block one time before continuing to proceed east, is another solution. However, the first 8 steps of the sequence <code class="docutils literal notranslate"><span class="pre">'eennwwsseeee'</span></code> put us directly where the sequence <code class="docutils literal notranslate"><span class="pre">'eeee'</span></code> also starts (i.e., the start state). If an algorithm has already explored a path that starts at the current state and returns to that state, repeating this path clearly won’t advance us toward a solution. This means that we can eliminate loops in our maps and not worry that we will miss finding a solution.</p>
</section>
<section id="only-visit-new-spots">
<p><strong>Only visit new spots.</strong> A necessary condition of looping is that we have to visit the same location more than once. If we create a random walk algorithm that is not allowed to visit a location more than once, we can guarantee that the algorithm will either find a (loop-free) solution or get caught in a “dead-end.”</p>
<p>A walk ends in a dead-end if the algorithm cannot find a new location to visit from its current location. For example, in our previous example, the first 8 steps of the sequence (i.e., <code class="docutils literal notranslate"><span class="pre">'eennwwss'</span></code>) leaves us without a valid location to visit next that hasn’t already been visited.</p>
<p>If you think about it, no run of this algorithm will take more steps than there are locations in the map. It may still take many random walks to find a solution, but no single random walk will take infinite time.</p>
</section>
<section id="a-dog-walk">
<p><strong>A dog walk.</strong> Let’s implement this particular type of random-walk algorithm, and since my dog Cosmo is much better at a random walk than I am, we will simulate him wandering around the city. His nose will tell him if he is about to repeat a location he’s already visited, which will guarantee that our algorithm doesn’t fall into any wasteful loops.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Credit</p>
<p>This code was inspired by Program 1.4.4 in Computer Science: An Interdisciplinary Approach by Robert Sedgewick and Kevin Wayne (2017, p. 113).</p>
</aside>
<p>The function <code class="docutils literal notranslate"><span class="pre">sim</span></code> in the code block below implements this behavior. It marks the path Cosmo takes through the input <code class="docutils literal notranslate"><span class="pre">my_city</span></code>, which <code class="docutils literal notranslate"><span class="pre">sim</span></code> displays once Cosmo has hit a dead-end or found himself in a field. In a moment we’ll discuss why this function allows us to run multiple random walks one after the other.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/dogwalk.py</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">city</span> <span class="kn">import</span> <span class="n">CitySqGrid</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># Our faithful dog</span>
<span class="linenos"> 6</span><span class="n">Cosmo</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\N{DOG FACE}</span><span class="s1">&#39;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">sim</span><span class="p">(</span><span class="n">my_city</span><span class="p">,</span> <span class="n">trials</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs {trials} trials of a self-avoiding random walk in {my_city}.  It</span>
<span class="linenos">10</span><span class="sd">       returns the number of times the dog hit a dead end.&quot;&quot;&quot;</span>
<span class="linenos">11</span>    <span class="n">dead_ends</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">12</span>    <span class="n">cg</span> <span class="o">=</span> <span class="n">my_city</span><span class="o">.</span><span class="n">grid</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
<span class="linenos">15</span>        <span class="n">loc</span> <span class="o">=</span> <span class="n">my_city</span><span class="o">.</span><span class="n">start</span>
<span class="linenos">16</span>        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">17</span>        <span class="n">my_city</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="linenos">18</span>
<span class="linenos">19</span>        <span class="k">while</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">my_city</span><span class="p">:</span>
<span class="linenos">20</span>            <span class="c1"># Leave a scent at current loc</span>
<span class="linenos">21</span>            <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos">22</span>
<span class="linenos">23</span>            <span class="c1"># Build list of available moves.  A move is available if there&#39;s not</span>
<span class="linenos">24</span>            <span class="c1"># a wall in that direction and no scent there.</span>
<span class="linenos">25</span>            <span class="n">moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">26</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">27</span>                <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="linenos">28</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">southwall</span> <span class="ow">and</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">29</span>                <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="linenos">30</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eastwall</span> <span class="ow">and</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">31</span>                <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="linenos">32</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">westwall</span> <span class="ow">and</span> <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">33</span>                <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="linenos">34</span>
<span class="linenos">35</span>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">36</span>                <span class="n">dead_ends</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">37</span>                <span class="k">break</span>
<span class="linenos">38</span>
<span class="linenos">39</span>            <span class="c1"># Move to a random available choice</span>
<span class="linenos">40</span>            <span class="n">m</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
<span class="linenos">41</span>            <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;n&#39;</span><span class="p">:</span>
<span class="linenos">42</span>                <span class="n">row</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="linenos">43</span>            <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
<span class="linenos">44</span>                <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">45</span>            <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span>
<span class="linenos">46</span>                <span class="n">col</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">47</span>            <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span>
<span class="linenos">48</span>                <span class="n">col</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="linenos">49</span>            <span class="n">cg</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">Cosmo</span>
<span class="linenos">50</span>            <span class="n">loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
<span class="linenos">51</span>
<span class="linenos">52</span>        <span class="nb">print</span><span class="p">(</span><span class="n">my_city</span><span class="p">)</span>
<span class="linenos">53</span>
<span class="linenos">54</span>    <span class="k">return</span> <span class="n">dead_ends</span>
</pre></div>
</div>
<aside class="margin sidebar">
<p class="sidebar-title">Terminology</p>
<p>It is worth reviewing the terminology I mentioned in Chapter 1. <code class="docutils literal notranslate"><span class="pre">my_city</span></code> is an object, and this object has a set of attributes associated with it. For example, the function <code class="docutils literal notranslate"><span class="pre">sim</span></code> references the <code class="docutils literal notranslate"><span class="pre">my_city</span></code> attributes <code class="docutils literal notranslate"><span class="pre">grid</span></code>, <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">reset</span></code>, and <code class="docutils literal notranslate"><span class="pre">print</span></code>, where the first two are data attributes (i.e., they simply name an object) and the latter two are function attributes (also called methods that can be called like a function).</p>
</aside>
<p>In reading this routine, you’ll notice that we take advantage of the fact that <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> has additional methods and data attributes that we need to use if the script itself is going to decide where to move and do so in an efficient manner (i.e., never make a move that would hit a wall). In particular, we can directly access the city’s 2-dimensional grid, and for each grid location, a direction attribute (e.g., <code class="docutils literal notranslate"><span class="pre">northwall</span></code>) tells us if there’s a wall in that direction. Finally, we take advantage of the fact that we can store a piece of content in the <code class="docutils literal notranslate"><span class="pre">content</span></code> attribute of a grid location.</p>
<p>Here’s a code block that builds a small, regular city and then has Cosmo go for a walk.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">60</span><span class="c1">### chap11/dogwalk.py</span>
<span class="linenos">61</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building a city with a square grid pattern&#39;</span><span class="p">)</span>
<span class="linenos">62</span><span class="n">not_Boston</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Cosmo</span><span class="p">)</span>
<span class="linenos">63</span><span class="nb">print</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">)</span>
<span class="linenos">64</span>
<span class="linenos">65</span><span class="c1"># Cosmo walks himself</span>
<span class="linenos">66</span><span class="n">dead_ends</span> <span class="o">=</span> <span class="n">sim</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">)</span>
<span class="linenos">67</span><span class="k">if</span> <span class="n">dead_ends</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">68</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cosmo hit a dead-end.&#39;</span><span class="p">)</span>
<span class="linenos">69</span><span class="k">else</span><span class="p">:</span>
<span class="linenos">70</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cosmo is frolicing in the fields!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Go ahead and run it several times.</p>
</section>
<section id="simulation">
<p><strong>Simulation.</strong> What we just did is the core of goal-directed search. A script — in our case, <code class="docutils literal notranslate"><span class="pre">sim</span></code> — begins an exploration at the start state (i.e., <code class="docutils literal notranslate"><span class="pre">loc</span></code>, defined in the first line of the <em>for-t</em> loop) and then using one of the allowable actions in that state (i.e., a random choice from the <code class="docutils literal notranslate"><span class="pre">moves</span></code> list), it moves forward a step (i.e., the update to <code class="docutils literal notranslate"><span class="pre">row</span></code> or <code class="docutils literal notranslate"><span class="pre">col</span></code> at the end of the <em>for-t</em> loop). It then checks the new state against the goal state (i.e., the while-loop check). If we’re not at the goal state, it attempts another step of exploration. When we hit the goal state, the function returns the solution (i.e., prints the solution path just before the return statement in <code class="docutils literal notranslate"><span class="pre">sim</span></code>). If we hit a dead-end, the function returns indicating that it failed to find a solution (i.e., <code class="docutils literal notranslate"><span class="pre">dead_ends</span></code> is greater than 0).</p>
<p>What we also did was write a script that simulated an aspect of our world, and from that simulation, we can learn something fundamental about the world. In fact, simulations are an very useful computational tool. The particular type of simulation we built (i.e., <a class="reference external" href="https://en.wikipedia.org/wiki/Self-avoiding_walk"><em>a self-avoiding random walk</em></a>) is an important one in numerous areas of math, science, and engineering. This type of simulation is used, for example, to model and learn about the topological behavior of proteins; a problem no one knows how to model analytically.</p>
<p>As an example of how we can use <code class="docutils literal notranslate"><span class="pre">sim</span></code> to learn something interesting, consider this question: How likely are we to find Cosmo wandering around in the fields versus stuck somewhere in the city? The answer to this question depends upon the size of the city, and this is where we use the <code class="docutils literal notranslate"><span class="pre">trials</span></code> input to our <code class="docutils literal notranslate"><span class="pre">sim</span></code> function. By considering the outcome of many random trials, we can get an idea of the likelihood in the limit. Try running the following code block, which uses a small city.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">60</span><span class="c1">### chap11/dogwalk.py</span>
<span class="linenos">61</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building a city with a square grid pattern&#39;</span><span class="p">)</span>
<span class="linenos">62</span><span class="n">not_Boston</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Cosmo</span><span class="p">)</span>
<span class="linenos">63</span><span class="nb">print</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">)</span>
<span class="linenos">64</span>
<span class="linenos">65</span><span class="c1"># Run a self-avoiding random walk simulation</span>
<span class="linenos">66</span><span class="n">trials</span> <span class="o">=</span> <span class="mi">20</span>
<span class="linenos">67</span><span class="n">dead_ends</span> <span class="o">=</span> <span class="n">sim</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">,</span> <span class="n">trials</span><span class="p">)</span>
<span class="linenos">68</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dead_ends</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">trials</span><span class="si">}</span><span class="s1">% dead ends&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-you-try-it admonition">
<p class="admonition-title">You Try It</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">dogwalk.py</span></code> a few times with a <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> of 4, and you probably will get approximately 5-10% of Cosmo’s walks ending at a dead-end.</p></li>
<li><p>Now double the size of the city and run the simulation several times again. This time you’ll probably see 35-40% of the walks end in a dead-end.</p></li>
<li><p>Finally, double the city size once more. The likelihood of a walk ending in a dead-end has jumped again, to somewhere around 80-90%.</p></li>
</ol>
<p>Our conclusion: In a small city, we should look for him in the fields; in a big city, he’s probably still somewhere inside it. This simulation just taught us a fact about our world.</p>
</div>
</section>
<section id="maps-not-city-grids">
<p><strong>Maps, not city grids.</strong> As useful as this simulator script is, it doesn’t solve this chapter’s problem. For example, we want an object that can model any roadmap, not just regular city grids. In other words, we want a data type that is more general than what we have with <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. Where can we find such a data type? Well, where did this <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> data type come from?</p>
<p>The answer is that I built it. You won’t find <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> in the Python language documentation or in a Python module that some generous soul published. Was it obvious to you at any point in using it that I wrote it? Probably not, and this is the beauty of a well-designed, object-oriented language. We’ve been using <em>instances</em> (e.g., <code class="docutils literal notranslate"><span class="pre">my_city</span></code>) of this entirely new data type, and as long as we understood the interface and behavior of this data type (i.e., its abstraction), we happily created and used instances of it to solve our problem as if the data type was a part of Python.</p>
<p>But now it is time to look at the definition and implementation of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>, and from what we learn, discover how we can build a Python object that solves our driving directions problem.</p>
<p>The following code block lists the implementation of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/city.py</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">maze</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">class</span> <span class="nc">CitySqGrid</span><span class="p">(</span><span class="n">maze</span><span class="o">.</span><span class="n">Maze</span><span class="p">):</span>
<span class="linenos"> 5</span>    <span class="c1"># Some documentation temporarily omitted</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">character</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">):</span>
<span class="linenos"> 8</span>        <span class="c1"># Initializes the instance as a {size}-by-{size} maze object and sets</span>
<span class="linenos"> 9</span>        <span class="c1"># the start-point character to {character}</span>
<span class="linenos">10</span>
<span class="linenos">11</span>        <span class="c1"># Sanity checks</span>
<span class="linenos">12</span>        <span class="k">if</span> <span class="n">size</span> <span class="o">&amp;</span> <span class="mh">0x1</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">13</span>            <span class="k">assert</span><span class="p">(</span><span class="s1">&#39;CitySqGrid size must be an even number&#39;</span><span class="p">)</span>
<span class="linenos">14</span>        <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
<span class="linenos">15</span>            <span class="k">assert</span><span class="p">(</span><span class="s1">&#39;CitySqGrid size must be between 2 and 20 buildings&#39;</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span>        <span class="c1"># Create the string that describes the configuration.  The actual</span>
<span class="linenos">18</span>        <span class="c1"># configuration written out is one of the test cases in maze.py.</span>
<span class="linenos">19</span>        <span class="n">row1</span> <span class="o">=</span> <span class="s1">&#39;f5&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;f</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">20</span>        <span class="n">row2</span> <span class="o">=</span> <span class="s1">&#39;a0&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;a</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">21</span>        <span class="c1"># Finally, put it all together with no trailing newline</span>
<span class="linenos">22</span>        <span class="n">config</span> <span class="o">=</span> <span class="p">(</span><span class="n">row1</span> <span class="o">+</span> <span class="n">row2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">row1</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos">23</span>
<span class="linenos">24</span>        <span class="c1"># Put start in city center, which is just the point (size,size)</span>
<span class="linenos">25</span>        <span class="c1"># when we double size to make maze rows and columns!  We don&#39;t</span>
<span class="linenos">26</span>        <span class="c1"># care about the goal point in this application.</span>
<span class="linenos">27</span>        <span class="n">endpts</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s1">) (-1,-1)&#39;</span>
<span class="linenos">28</span>        
<span class="linenos">29</span>        <span class="n">maze</span><span class="o">.</span><span class="n">Maze</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">endpts</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>        <span class="c1"># Fill in the buildings.  Only seen on first build.  maze.reset</span>
<span class="linenos">32</span>        <span class="c1"># won&#39;t refill these buildings, which is the desired behavior</span>
<span class="linenos">33</span>        <span class="c1"># once we start the dog on its random walk.</span>
<span class="linenos">34</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="linenos">35</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="linenos">36</span>                <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;#&#39;</span>
<span class="linenos">37</span>
<span class="linenos">38</span>        <span class="c1"># Change &#39;s&#39; to a dog</span>
<span class="linenos">39</span>        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="n">size</span><span class="p">][</span><span class="n">size</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">character</span>
</pre></div>
</div>
<p>This code block contains what is called a <em>class definition</em>, and classes are how we implement data abstraction in Python. In other words, the Python keyword <code class="docutils literal notranslate"><span class="pre">class</span></code> is how you define and implement your own data type. Here, we have defined a new data type called <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. We’ll talk in a moment about what goes in the parentheses when you define a new data type (i.e., a new <code class="docutils literal notranslate"><span class="pre">class</span></code>); just ignore that for now.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Separating Interface from Implementation</p>
<p>I don’t fault the designers of Python for not clearly separating interface from implementation. I’ve programmed in other languages that require a rigid interface specification, and I personally don’t think it helps. The syntax of a programming language simply is not a good place to try to explain a data type’s abstraction. Python’s approach is saying, in effect, that the interface is in the code that follows, but you probably want to read something in English to best understand it.</p>
</aside>
<p>Like a function definition, a class definition defines a data type’s interface and makes explicit its implementation. When we learned about functions and their definitions in Chapter 3, it was easy to identify the public interface from the private implementation. The same separation exists with classes, but it is harder to see, especially in Python.</p>
<p>I have described the interface for <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> in a docstring at the start of this class definition. This information appears in the code block below and was replaced with the comment “Some documentation temporarily omitted” in the code block above. In the code block below, I show you where it goes in the actual definition by commenting out the code statements before and after this docstring.</p>
<p>A common convention among Python programmers is to use a docstring to describe (in English) the data type’s abstraction and interface, as seen through its <em>data attributes</em> and <em>methods</em>. You may also find, as I have done, a comment following the docstring that is meant not to help users of the data type, but those who want to modify its implementation. If you just want to use the data type, as we did in <code class="docutils literal notranslate"><span class="pre">walk.py</span></code> and <code class="docutils literal notranslate"><span class="pre">dogwalk.py</span></code>, you need only read the docstring.</p>
<p>Please note that this is the convention I use. You may follow this convention or imagine your own. Just give those who will use your new data structure some way to understand what’s in its interface and what are implementation details.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/city.py</span>
<span class="linenos"> 2</span><span class="c1"># class CitySqGrid(maze.Maze):</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstraction: A CitySqGrid object represents a grid-like layout of a city</span>
<span class="linenos"> 4</span><span class="sd">       with an even number of blocks in the north-south direction as it has in</span>
<span class="linenos"> 5</span><span class="sd">       the east-west direction.  When an instance is created, your character is</span>
<span class="linenos"> 6</span><span class="sd">       placed at the intersection in the exact center of the city.</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="sd">       Interface attributes:</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="sd">       instance.start: Starting location for your character in the your city.</span>
<span class="linenos">11</span><span class="sd">       Locations are (row,col) tuples that specify a coordinate within the city</span>
<span class="linenos">12</span><span class="sd">       grid.  You should only read this data attribute.</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="sd">       instance.grid: A 2-dimensional array of cells containing information</span>
<span class="linenos">15</span><span class="sd">       about the city grid and whatever you might find at each cell.  Locations</span>
<span class="linenos">16</span><span class="sd">       index the cells in a grid.  See class `Cell` for more information about</span>
<span class="linenos">17</span><span class="sd">       the city cells.</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="sd">       instance.move(location, direction): Given a location and a direction to</span>
<span class="linenos">20</span><span class="sd">       move, this method moves the contents of the input location to the new</span>
<span class="linenos">21</span><span class="sd">       location in the specified direction, if the direction doesn&#39;t hit a wall.</span>
<span class="linenos">22</span><span class="sd">       If direction is a wall, no move is made.  NOTE: It is up to the caller to</span>
<span class="linenos">23</span><span class="sd">       guarantee that there&#39;s some character to move at location and that the</span>
<span class="linenos">24</span><span class="sd">       input location is within the city grid.</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="sd">       instance.reset(): Resets all the city&#39;s state to the state when this</span>
<span class="linenos">27</span><span class="sd">       instance was first created.</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="sd">       instance.__contains__(pt): Allows us to use the Python `in` syntax to</span>
<span class="linenos">30</span><span class="sd">       check if a location `pt` is a location in your city grid.</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="sd">       instance.__str__(): Converts your city object into a string, which when</span>
<span class="linenos">33</span><span class="sd">       printed is an ASCII representation of what your city looks like.</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="sd">       instance.print(): Same as `__str__`, except that it does the print too.</span>
<span class="linenos">36</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">37</span>    <span class="c1"># Implementation details:  It only builds city&#39;s where there is an</span>
<span class="linenos">38</span>    <span class="c1"># intersection at the exact middle of the city.  This means that the</span>
<span class="linenos">39</span>    <span class="c1"># CitySqGrid size must be an even number.  For more implementation details,</span>
<span class="linenos">40</span>    <span class="c1"># see class `Maze`, on which we build this class.</span>
<span class="linenos">41</span>
<span class="linenos">42</span>    <span class="c1"># def __init__(self, size, character=&#39;s&#39;):</span>
<span class="linenos">43</span>    <span class="c1"># ...</span>
</pre></div>
</div>
</section>
<section id="object-oriented-programming">
<p><strong>Object-oriented programming.</strong> You’ve now seen the power of <em>object-oriented (OO) programming</em>, in which we use data abstractions as well as procedural abstractions to decompose and structure our scripts. With a facility to create data abstractions, we are freed from using just the data types that Python or some Python library provides.</p>
<p>At first, OO programming may feel overwhelming as it comes with a boatload of syntax and jargon, but there’s definitely nothing to fear here. You have been using the OO approach from the this book’s start. Everything you manipulate in Python is an object, even what feels primitive and simple, like integers and strings.</p>
<p>Even though there’s nothing to fear, even I find the OO terminology to be intimidating and confusing. If you have a strong desire to dive into this terminology and gain a picture of the incredibly wide range of things you can express and do, I encourage you to pick up an OO programming textbook. To get started, you might read Chapter 10 in John Guttag’s book titled an <em>Introduction to Computation and Programming Using Python</em>. We won’t cover the waterfront of OO programming and instead learn about its basic aspects as we use it in our problem solutions.</p>
</section>
<section id="the-magic-of-magic-methods">
<p><strong>The magic of magic methods.</strong> A particularly useful aspect of OO programming, which you saw in <code class="docutils literal notranslate"><span class="pre">walk.py</span></code> and <code class="docutils literal notranslate"><span class="pre">dogwalk.py,</span></code> is the capacity to create an abstraction barrier around a data structure. As with functions, the goal in data abstraction is to get the user of the abstraction to focus on the whole and it important attributes, not the implementation details. For example, we knew that an instance of the class <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> has an internal structure (e.g., it contained a 2-dimensional grid and a 2-element tuple called <code class="docutils literal notranslate"><span class="pre">start</span></code>), but in writing these scripts, we didn’t care how this grid was exactly implemented or updated. Python’s class facility helped me to hide these details from you.</p>
<p>But Python’s OO mechanisms offered me more than this. It also allowed you to treat an instance of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> just like Python’s own built-in types. To understand this, consider a Python <code class="docutils literal notranslate"><span class="pre">list</span></code>. When we want to check whether some object (let’s call it <code class="docutils literal notranslate"><span class="pre">my_direction</span></code>) is a member of a <code class="docutils literal notranslate"><span class="pre">list</span></code> object (let’s call it <code class="docutils literal notranslate"><span class="pre">valid_moves</span></code>), we’d write: <code class="docutils literal notranslate"><span class="pre">my_direction</span> <span class="pre">in</span> <span class="pre">valid_moves</span></code>. If you look back at the while-loop in <code class="docutils literal notranslate"><span class="pre">dogwalk.py</span></code>, you’ll see that we were able to write: <code class="docutils literal notranslate"><span class="pre">loc</span> <span class="pre">in</span> <span class="pre">my_city</span></code>. Instances of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> work like instances of Python <code class="docutils literal notranslate"><span class="pre">list</span></code> when it comes to Python’s built-in functions like <code class="docutils literal notranslate"><span class="pre">len</span></code> and <code class="docutils literal notranslate"><span class="pre">print</span></code>, and its infix operators like <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">+</span></code>.</p>
<p>The methods of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> that help this data type connect into the nice syntactic features of Python are called <em>magic methods</em>, and the name of these methods begin and end with two underbar (<code class="docutils literal notranslate"><span class="pre">_</span></code>) characters. You see three of these magic methods listed in the docstring for class <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>, and another one in the code inside the <code class="docutils literal notranslate"><span class="pre">class</span></code> definition. Let’s look at the first three.</p>
<p>The instance method <code class="docutils literal notranslate"><span class="pre">__str__</span></code> returns a string that describes this particular <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> object. As the data type’s designer, I can return any string I like, and I’ve chosen to return the ASCII image that you’ve seen in our script’s runs. This is a magic method because the interpreter looks for it when the object is used where the interpreter expects a string object. For example, the input parameters to <code class="docutils literal notranslate"><span class="pre">print</span></code> are expected to be strings, and when we pass a <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> object as a parameter to print, the Python interpreter looks for this specific magic method and, if it finds it, it uses it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">60</span><span class="c1">### chap11/dogwalk.py</span>
<span class="linenos">61</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building a city with a square grid pattern&#39;</span><span class="p">)</span>
<span class="linenos">62</span><span class="n">not_Boston</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Cosmo</span><span class="p">)</span>
<span class="linenos">63</span><span class="nb">print</span><span class="p">(</span><span class="n">not_Boston</span><span class="p">)</span>
</pre></div>
</div>
<p>This is how we print a Python <code class="docutils literal notranslate"><span class="pre">list</span></code> by just passing a <code class="docutils literal notranslate"><span class="pre">list</span></code> object to <code class="docutils literal notranslate"><span class="pre">print</span></code>. Use the <code class="docutils literal notranslate"><span class="pre">dir</span></code> command to see what attributes are in the <code class="docutils literal notranslate"><span class="pre">list</span></code> namespace, and you’ll find <code class="docutils literal notranslate"><span class="pre">__str__</span></code>. Now you know how we’re able to print so many Python objects by just passing them as parameters to <code class="docutils literal notranslate"><span class="pre">print</span></code>!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</pre></div>
</div>
<p>The docstring on <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> also tells us that the instance method <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> implements what we need in order to use the Python operator <code class="docutils literal notranslate"><span class="pre">in</span></code> with a <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. This method requires a parameter, which is a point in the city grid that we’re asking about. This point becomes the value to the left of the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator, and the <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> instance we want to check is to the right. In other words, the Python interpreter changes the first code block below into the second one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pt</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">pt</span> <span class="ow">in</span> <span class="n">not_Boston</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pt</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">not_Boston</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
</pre></div>
</div>
<p>The key idea here is that when we define our own data type, we’d really like to use it like the data types that were built into Python. When this is true, a programmer who uses our new data type won’t have to think about who built the data type they need. They just use it like every other data type they’ve used in the past for the common set of operations in Python (e.g., printing and testing for membership, assuming such a test makes sense in the context of the data type).</p>
<aside class="margin sidebar">
<p class="sidebar-title">How the move-method Works</p>
<p>As the docstring states, this method does minimal checking. It basically assumes that the person using the method knows that the location passed to this method is <code class="docutils literal notranslate"><span class="pre">in</span></code> the instance or has been checked by a call to <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>.</p>
</aside>
</section>
<section id="actions-specific-to-our-data-type">
<p><strong>Actions specific to our data type.</strong> Of course, our data type can have data attributes and methods unlike any other data type in Python. Two examples of this in our <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> example are: (1) the <code class="docutils literal notranslate"><span class="pre">start</span></code> data attribute, which indicates the starting location of our character in the city; and (2) the <code class="docutils literal notranslate"><span class="pre">move</span></code> method, which we used to move from one point in the city grid to another by specifying our starting location and the direction we wish to move.</p>
<p>Notice that the name of these methods aren’t surrounded by double underbar characters. There’s nothing in Python stopping you from using, for example, the name <code class="docutils literal notranslate"><span class="pre">__move__</span></code> except convention in the Python programming community. Magic methods that hook into some nice Python syntax are named with surrounding double underbars, and the methods you design especially for your data type shouldn’t have them. By following this simple convention, experienced Python programmers know what you’re doing.</p>
</section>
<section id="building-on-others">
<p><strong>Building on others.</strong> I’ve focused our discussion on the docstring, which describes the abstraction and public interface to our new data type. Let’s now look at the implementation of the <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">CitySqGrid</span></code>.</p>
<p>Whoa! Wait a minute. We see the class’s implementation contains the definition and implementation of only one method, and the name of this method is not one of the ones we read about in the docstring! We’ll get to this magic method (i.e., its name begins and ends with a double underbar) in a moment, but let’s first understand what <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> really is.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Terminology</p>
<p>Along with the term subclass, you will hear the complementary term superclass. <code class="docutils literal notranslate"><span class="pre">Maze</span></code> is the superclass of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>, and it shares its attributes with all its subclasses.</p>
</aside>
<p><code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> is a new data type that I built, but I didn’t build it from scratch. I built it as <em>a specialized kind of a more general data type</em>. This more general data type is what was specified in the parentheses of the class definition. Every instance of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> is an instance of the data type called <code class="docutils literal notranslate"><span class="pre">Maze</span></code>, which is found in the <code class="docutils literal notranslate"><span class="pre">maze</span></code> module (i.e., in <code class="docutils literal notranslate"><span class="pre">maze.py</span></code>). Object-oriented enthusiasts call <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> a <em>subclass</em> of <code class="docutils literal notranslate"><span class="pre">Maze</span></code>. As a subclass, <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> inherits the attributes of <code class="docutils literal notranslate"><span class="pre">Maze</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">maze</span></code> class is quite long, and I haven’t replicated it here. If you open <code class="docutils literal notranslate"><span class="pre">maze.py</span></code> in the Github repository associated with this book, you’ll find implementations of the methods described in the <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> docstring (i.e., <code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">reset</span></code>, <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>, <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, and <code class="docutils literal notranslate"><span class="pre">print</span></code>) and if you look at these implementations, you’ll see that they do what the <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> docstring said they’d do.</p>
<p>What does it mean that these methods are in class <code class="docutils literal notranslate"><span class="pre">Maze</span></code> and not in class <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>? It means that nothing I did to specialize a <code class="docutils literal notranslate"><span class="pre">Maze</span></code> object into a <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> object changed how we print or test whether a point exists within one of these objects. Do you remember when we decided we needed only one implementation of the string-replace method back in Chapter 3? We wanted multiple invocations of this code, but we wanted to write that code only once. For all the same reasons we discussed there, object-oriented <em>inheritance</em> allows us to avoid repeating implementations in the context of data abstraction.</p>
<p>Speaking of building on others, you will notice that the <code class="docutils literal notranslate"><span class="pre">Maze</span></code> class builds on a class called <code class="docutils literal notranslate"><span class="pre">object</span></code>. This is a class at the root of the Python object hierarchy. Every built-in data type in Python is also an object of type <code class="docutils literal notranslate"><span class="pre">object</span></code>. By saying that <code class="docutils literal notranslate"><span class="pre">Maze</span></code> is derived from <code class="docutils literal notranslate"><span class="pre">object</span></code>, we’re saying that we want <code class="docutils literal notranslate"><span class="pre">Maze</span></code> objects to be Python objects.</p>
<div class="admonition-more-conventions admonition">
<p class="admonition-title">More Conventions</p>
<p>You will find the definition of methods in the <code class="docutils literal notranslate"><span class="pre">Maze</span></code> class with names that start with a double underscore, but do not end with a double underscore. These are helper functions used in some of the <code class="docutils literal notranslate"><span class="pre">Maze</span></code> methods. Object-oriented programming not only encapsulates the attributes of a data type in a <code class="docutils literal notranslate"><span class="pre">class</span></code> statement, but it allow you to use all of the helpful aspects of procedural programming within this statement.
For example, turning a <code class="docutils literal notranslate"><span class="pre">Maze</span></code> object into its ASCII image involves a row-by-row generation of ASCII characters. It is easier to implement this procedure by factoring out the work done for each row into a method called <code class="docutils literal notranslate"><span class="pre">__str_row</span></code> and then having <code class="docutils literal notranslate"><span class="pre">__str__</span></code> repeatedly call this helper function. However, this is an implementation detail, and we want it hidden from those using our data type and the attributes described in our interface docstring. If we could hide this particular method <code class="docutils literal notranslate"><span class="pre">__str_row</span></code>, we would be free to change its implementation and know that no client of our data type would break.
In Python, this hiding of attributes specific to the current implementation is done with a naming convention. While other programming languages have keyword mechanisms for making certain attributes of a class private to the implementation of the class, the closest we can come to this is to begin a data attribute or method with a double underbar (and no trailing double underbar). If a piece of code accesses such a named attribute at runtime, the Python3 interpreter will raise an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> claiming that the object has no attribute with the double-underbar-leading name.</p>
</div>
</section>
<section id="building-an-instance">
<p><strong>Building an instance.</strong> We have talked about what we can do once we have an object of our new data type, but how do we create an instance of this data type? If you think about Python’s built-in data types, like integers, strings, and lists, there is special syntax in the language to handle the creation of objects of these types. For example, when we typed a number without a decimal point, the Python interpreter knew that we wanted to create an integer object with that number as its value. For strings, we put the value in a matching pair of quote characters. For lists, we used square brackets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># Examples of creating an instance of a built-in object. We get to use special</span>
<span class="linenos">2</span><span class="c1"># syntax in each of these cases.</span>
<span class="linenos">3</span><span class="n">an_int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">4</span><span class="n">an_empty_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="linenos">5</span><span class="n">an_empty_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="n">an_int</span><span class="p">,</span> <span class="n">an_empty_string</span><span class="p">,</span> <span class="n">an_empty_list</span><span class="p">)</span>
</pre></div>
</div>
<p>But we can also build instances of these built-in data types by directly invoking their <em>constructors</em>. The form of a constructor is the class name followed by a pair of parentheses. The result of a call to a constructor is an newly minted object of that class (i.e., type).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># The same examples as the last code block, except now we&#39;re creating</span>
<span class="linenos">2</span><span class="c1"># instance of built-in object using the type&#39;s constructor.</span>
<span class="linenos">3</span><span class="n">an_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">()</span>           <span class="c1"># constructor defaults to an object of value 0</span>
<span class="linenos">4</span><span class="n">an_empty_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>  <span class="c1"># constructor default is an empty string</span>
<span class="linenos">5</span><span class="n">an_empty_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>   <span class="c1"># constructor default is an empty list</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="n">an_int</span><span class="p">,</span> <span class="n">an_empty_string</span><span class="p">,</span> <span class="n">an_empty_list</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, it is possible to initialize these objects to values other than their defaults by passing in an initialization value in the constructor call.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># With some initialization values</span>
<span class="linenos">2</span><span class="n">an_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">a_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">an_int</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">a_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">an_string</span><span class="p">)</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="n">an_int</span><span class="p">,</span> <span class="n">a_string</span><span class="p">,</span> <span class="n">a_list</span><span class="p">)</span>
</pre></div>
</div>
<p>This is what we did when we wanted to create a 4-square-block instance of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> with a <code class="docutils literal notranslate"><span class="pre">dog-face</span></code> character at its center and name it <code class="docutils literal notranslate"><span class="pre">nyc</span></code>, as we did in <code class="docutils literal notranslate"><span class="pre">walk.py</span></code>. Here’s that part of the script again:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">7</span><span class="n">nyc</span> <span class="o">=</span> <span class="n">CitySqGrid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Cosmo</span><span class="p">)</span>
<span class="linenos">8</span><span class="nb">print</span><span class="p">(</span><span class="n">nyc</span><span class="p">)</span>
</pre></div>
</div>
<p>What happens when we execute the first line above is that the Python interpreter will create a new object (i.e., a new instance) of class <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. The instance is basically a raw piece of our computer’s memory large enough to hold all the class’s attributes. By raw, I mean that none of this memory is initialized in such a manner that object acts like an instance of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. This is the job of the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method.</p>
<p>The implementation of <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method of <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">CitySqGrid</span></code> make sure that the city we build is between 2 and 20 buildings on a side, and that this number is an even so that there is a single central location.  It also creates the configuration strings that are passed to the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method of <code class="docutils literal notranslate"><span class="pre">Maze</span></code>, the superclass of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>.</p>
<p>And toward the end of this initialization method, we find code that does a small bit of work to make the initial picture of the city prettier and sets the character at the city center, if the call to the constructor specified this optional parameter.</p>
</section>
<section id="representational-invariant">
<p><strong>Representational invariant.</strong> In general, the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method is responsible for creating an initial and valid representation of an object of the specified class. As we mentioned earlier, a powerful aspect of object-oriented programming is the pulling together of all the functions that manipulate an object’s internal representation and publishing an interface that allows other programmers to use the abstract type without violating its representation. In other words, each class has a <em>representation invariant</em>, which the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method establishes and the other class methods are expected to maintain.</p>
<p>This is a non-trivial exercise when you, as the programmer of a class, are defining all of the class’s methods and data attributes yourself. It is an even more interesting exercise when your class is derived from a more general abstract data type. In our example, the methods of <code class="docutils literal notranslate"><span class="pre">Maze</span></code> are operations you can perform on instances of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>. It’s fine for these superclass methods to operate on instances of the subclass if they maintain the representation invariant. If they don’t, then you should <em>override</em> them by redefining those methods in the subclass.</p>
<p>In the case of <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>, none of the methods of <code class="docutils literal notranslate"><span class="pre">Maze</span></code> violate the representational invariant established by <code class="docutils literal notranslate"><span class="pre">CitySqGrid.__init__</span></code>; <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> just creates a special kind of <code class="docutils literal notranslate"><span class="pre">Maze</span></code>. We will see an example of method overriding soon, when we build yet another abstract data type to help us solve our driving-directions problem.</p>
</section>
<section id="self">
<p><strong>Self.</strong> One last word on a piece of syntax you undoubtedly noticed in every method definition in <code class="docutils literal notranslate"><span class="pre">Maze</span></code> and <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>, and that is the name <code class="docutils literal notranslate"><span class="pre">self</span></code> as the first (and possibly only) formal parameter. Every method definition must contain one more formal parameter than the number of actual parameters when invoked, but this first formal parameter is not required in Python to be called <code class="docutils literal notranslate"><span class="pre">self</span></code>. While not required, it is highly recommended that you follow this common practice. If you do, other Python programmers will immediately know what you’re doing.</p>
<p>This special first formal parameter allows you to access the data attributes of the actual instance on which the method was called. We see this in last two pieces of initialization in the <code class="docutils literal notranslate"><span class="pre">CitySqGrid.__init__</span></code> method. For example, we assign the <code class="docutils literal notranslate"><span class="pre">character</span></code> value to <code class="docutils literal notranslate"><span class="pre">self.grid[size][size].content</span></code> because we want to modify the grid in the namespace of the object we just created. Without this namespace specification, the Python interpreter would assume we were talking about some <code class="docutils literal notranslate"><span class="pre">grid</span></code> in the local namespace, like the <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code> index variables in the nested for-loops that are in the local namespace.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Knowing whether you need to prepend <code class="docutils literal notranslate"><span class="pre">self</span></code> to a name is tricky, and it will take some time for you to naturally know when and when not to use it. Until you do, I suggest you pause as you first write a variable name in a class method and ask yourself, “Am I trying to access an attribute of a particular instance of this abstract data type (i.e., class), or is this just a local variable that is helping me to complete the work of this method?” You need <code class="docutils literal notranslate"><span class="pre">self</span></code> in the first case, and you don’t in the second.</p>
</div>
</section>
<section id="instance-and-class-variables">
<p><strong>Instance and class variables.</strong> The docstring I use in <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code> tries to help you answer the question in the previous Tip by prepending “instance” before the class attributes that require a <code class="docutils literal notranslate"><span class="pre">self</span></code>. These are all <em>instance variables</em>, i.e., data attributes associated with the instance.</p>
<p>Although we won’t use them in this book, you can also create <em>class variables</em>. With a class variable, you don’t have a copy of that variable for each instance, but a single variable that is shared by every instance of the class. Class variables create shared state, which brings its own representational invariant challenges. You’d access a class variable by replacing <code class="docutils literal notranslate"><span class="pre">self</span></code> with the class name as the namespace. If you’d like to learn more about class variables, I encourage you to read a book focused on the object-oriented properties of Python.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Creating a Map</p>
<p>To create a map using the <code class="docutils literal notranslate"><span class="pre">Maze</span></code> class, you specify what the map looks like using two configuration strings. The first uses a specialized encoding to indicate where the edges of the roads exist, and the second indicates the start and goal locations. The comments in <code class="docutils literal notranslate"><span class="pre">maze.py</span></code> explain the structure of these strings.</p>
</aside>
</section>
<section id="general-maps">
<p><strong>General maps.</strong> The <code class="docutils literal notranslate"><span class="pre">Maze</span></code> class, along with its associated <code class="docutils literal notranslate"><span class="pre">Cell</span></code> class, is the abstract data type we need to build a general map and on which we can design a goal-directed search algorithm that will produce driving directions. Feel free to look at the implementation of this class, but we don’t need to understand these details to solve our driving-directions problem. We just need the interface, which we already know from using objects of type <code class="docutils literal notranslate"><span class="pre">CitySqGrid</span></code>.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Credit</p>
<p>This map closely resembles the one used in Week 0 (Search) of <a class="reference external" href="https://cs50.harvard.edu/ai">CS50’s Introduction to Artificial Intelligence with Python</a>.</p>
</aside>
<p>The rest of this chapter uses a map specified by the two configuration strings: <code class="docutils literal notranslate"><span class="pre">MAZE_map</span></code> and <code class="docutils literal notranslate"><span class="pre">MAZE_map_endpts</span></code>. When printed, these strings produce the map in <a class="reference internal" href="#c11-fig1-ref"><span class="std std-numref">Figure 28</span></a>.</p>
<figure class="align-default" id="c11-fig1-ref">
<img alt="_images/c11_fig1.png" src="_images/c11_fig1.png" />
<figcaption>
<p><span class="caption-number">Fig. 28 </span><span class="caption-text">The map produced by the configuration strings <code class="docutils literal notranslate"><span class="pre">MAZE_map</span></code> and <code class="docutils literal notranslate"><span class="pre">MAZE_map_endpts</span></code> in <code class="docutils literal notranslate"><span class="pre">maze.py</span></code>. We’ll start at the location marked with an <code class="docutils literal notranslate"><span class="pre">s</span></code> and follow the roads which are the empty squares. Our goal is the square with the <code class="docutils literal notranslate"><span class="pre">g</span></code>.</span><a class="headerlink" href="#c11-fig1-ref" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="keeping-track">
<p><strong>Keeping track.</strong> Now that we have a digital representation of a map and an interface that allows us to move around it, we can finally write the script that will find us a set of driving directions from our start location (<code class="docutils literal notranslate"><span class="pre">s</span></code>) to our goal location (<code class="docutils literal notranslate"><span class="pre">g</span></code>). This script has to do much of what we did in <code class="docutils literal notranslate"><span class="pre">dogwalk.py</span></code>, and so we’ll start with its function <code class="docutils literal notranslate"><span class="pre">sim</span></code>. This function, however, did two things we don’t want: (1) it ran lots of separate simulations; and (2) printed the results of each one.</p>
<p>When we ask for driving directions, we’re not interested in seeing every path that the code explores and especially not the paths that end in dead-ends. Our problem specification says that it should execute until it finds a solution or determines that there is no path from start to goal. If you like solving printed mazes, you already know how to do this: our function will need to keep track of the parts of the map it has explored and those places on the map it can reach from start but hasn’t yet explored. By tracking these unexplored places, our script can restart its search at one of them when its current search path ends in a dead-end. And it will know that the map does not contain a route from start to goal if it ever gets to a point when it hasn’t found the goal and there are no unexplored places left to explore.</p>
<p>That reasoning explains how we’ll squish lots of separate simulations into a single search exploration, but it will still leave us a printed map with all these search paths marked—one of which leads from start to goal (assuming there is such a path). Imagine a layering of all the <code class="docutils literal notranslate"><span class="pre">sim</span></code> outputs on top of each other, which is not what our problem specification stated was the desired output. The function should return the actual path the search found from start to goal. This is a solvable problem  if our code records the actions it took during the search, information we’ve been throwing away. With this additional information and a bit of processing, you’ll see how it can print a sequence of actions that lead directly from start to goal.</p>
<p>We’ll adapt <code class="docutils literal notranslate"><span class="pre">sim</span></code> to perform the first and then the second of these tracking actions. To begin this work, let’s rename <code class="docutils literal notranslate"><span class="pre">sim</span></code> to <code class="docutils literal notranslate"><span class="pre">search</span></code>, rename its formal parameter <code class="docutils literal notranslate"><span class="pre">my_city</span></code> to <code class="docutils literal notranslate"><span class="pre">my_map</span></code>, and strip out the code for running numerous trials and the counting of dead-ends, as shown in the following code block. This code also generalizes the condition tested in the while-loop (line 8), which was specific to our goal in the dog-walk problem; it now tests whether we have reached the specified goal state.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### Some useful code for finding driving directions on a map</span>
<span class="linenos"> 2</span><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">my_map</span><span class="p">):</span>
<span class="linenos"> 3</span>    <span class="n">g</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">grid</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span>    <span class="n">loc</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">start</span>
<span class="linenos"> 6</span>    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span>    <span class="k">while</span> <span class="n">loc</span> <span class="o">!=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">goal</span><span class="p">:</span>
<span class="linenos"> 9</span>        <span class="c1"># Leave a scent at current loc</span>
<span class="linenos">10</span>        <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>        <span class="c1"># Build list of available moves.  A move is available if there&#39;s not</span>
<span class="linenos">13</span>        <span class="c1"># a wall in that direction and no scent there.</span>
<span class="linenos">14</span>        <span class="n">moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">15</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">16</span>            <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="linenos">17</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">southwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">18</span>            <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="linenos">19</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eastwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">20</span>            <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="linenos">21</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">westwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
<span class="linenos">22</span>            <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">25</span>            <span class="c1"># hit a dead-end</span>
<span class="linenos">26</span>            <span class="k">break</span>
<span class="linenos">27</span>
<span class="linenos">28</span>        <span class="c1"># Move to a random available choice</span>
<span class="linenos">29</span>        <span class="n">m</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
<span class="linenos">30</span>        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;n&#39;</span><span class="p">:</span>
<span class="linenos">31</span>            <span class="n">row</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="linenos">32</span>        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
<span class="linenos">33</span>            <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">34</span>        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span>
<span class="linenos">35</span>            <span class="n">col</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">36</span>        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span>
<span class="linenos">37</span>            <span class="n">col</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="linenos">38</span>        <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">Cosmo</span>
<span class="linenos">39</span>        <span class="n">loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
<span class="linenos">40</span>
<span class="linenos">41</span>    <span class="nb">print</span><span class="p">(</span><span class="n">my_map</span><span class="p">)</span>
<span class="linenos">42</span>    <span class="k">return</span>
</pre></div>
</div>
<p>These changes aren’t all we need. What’s missing is the tracking we discussed, which like the last change is code common to every goal-directed search problem.</p>
</section>
<section id="maintaining-a-frontier">
<p><strong>Maintaining a frontier.</strong> Let’s continue our fixes by keeping a list of all the places we haven’t explored. Recall that each time through the current while-loop body, lines 12-22 generate a list of available <code class="docutils literal notranslate"><span class="pre">moves</span></code>, which are directions to new locations that we haven’t explored. We then randomly makes one of these moves and discard the others. Discarding our other choices was fine when we were happy to hit a dead-end and end the current simulation round, but now we should exit the while-loop by the if-statement on line 24 only when there isn’t <em>any</em> path in the map from start to goal. This means we need to lift the zeroing of the <code class="docutils literal notranslate"><span class="pre">moves</span></code> list (currently line 14) to a point before the while-loop so that the while-loop can maintain the list of <em>every</em> unexplored path.</p>
<p>In goal-directed search algorithms, this <code class="docutils literal notranslate"><span class="pre">moves</span></code> list is what is typically called the <em>frontier</em>, and we’ll rename <code class="docutils literal notranslate"><span class="pre">moves</span></code> to <code class="docutils literal notranslate"><span class="pre">frontier</span></code> throughout. On this frontier list, we’ll place unexplored locations (rather than directions) since we’ll need to jump in our map from a <code class="docutils literal notranslate"><span class="pre">loc</span></code> which is a dead-end to one of these frontier-recorded, unexplored locations. Recording a direction is not enough information to make this jump.</p>
<p>Keeping a frontier list of every unexplored location also requires us to change the specific check in the if-statements on lines 15, 17, 19, and 21. Currently, each asks: (1) if a particular move is valid; and (2) if we haven’t already explored this new location (i.e., is there a <code class="docutils literal notranslate"><span class="pre">'*'</span></code> there?). These two checks were sufficient when we regenerated our entire list of unexplored locations each time. Now we’re trying to <em>maintain</em> a list of all unexplored locations, and since we might get to a location along multiple paths from the start location (see <a class="reference internal" href="#c11-fig2-ref"><span class="std std-numref">Figure 29</span></a> below for such an example using our map), we’ll want to make sure we add each unexplored location to the frontier only once. This adds a new condition to each of these if-statements. For example, lines 15-16 become:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">15</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> \
<span class="linenos">16</span>            <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">17</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
</pre></div>
</div>
<figure class="align-default" id="c11-fig2-ref">
<img alt="_images/c11_fig2.png" src="_images/c11_fig2.png" />
<figcaption>
<p><span class="caption-number">Fig. 29 </span><span class="caption-text">Two paths from start that reach location (1,8). Our script should add this location to the frontier list only once.</span><a class="headerlink" href="#c11-fig2-ref" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>When we put unexplored locations on the frontier list, choosing a next location to explore (lines 28-39) means that we just grab one of these locations off the list. The new code is much simpler, but notice that we no longer use <code class="docutils literal notranslate"><span class="pre">random.choice</span></code>, since that function doesn’t remove an item from its input list. We replace it with <code class="docutils literal notranslate"><span class="pre">list.pop</span></code> for now, which you can think of as making a random choice because we aren’t paying attention to what’s at the end of list. Later in this chapter, I’ll explain how the different choices you make here affect the running of the search.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">28</span>        <span class="c1"># Choose a location from the frontier as next to explore</span>
<span class="linenos">29</span>        <span class="n">loc</span> <span class="o">=</span> <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="linenos">30</span>        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
</pre></div>
</div>
<p>For completeness, the if-statement and its body on lines 24-26 become:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">24</span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frontier</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">25</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No solution&#39;</span><span class="p">)</span>
<span class="linenos">26</span>            <span class="k">return</span>
</pre></div>
</div>
<p>We’re very close to a version of <code class="docutils literal notranslate"><span class="pre">search</span></code> that achieves the first of our tracking actions (i.e., it searches for a path from start to goal and prints a marked map when it finds one). We just need to fix one small issue that arose when we changed from searching for a path on a very specific type of map (a city grid where start was at its center and the goal was to reach the fields outside the city) to any map on which we can place the start and goal locations anywhere.</p>
<p>Do you see the problem? It’s quite subtle, and it reminds us to think systematically about edge cases when we try to write a script for the most general formulation of a problem. Here’s the code that results from all the changes we just discussed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### Not quite chap11/directions0.py</span>
<span class="linenos"> 2</span><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">my_map</span><span class="p">):</span>
<span class="linenos"> 3</span>    <span class="n">g</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">grid</span>
<span class="linenos"> 4</span>    <span class="n">frontier</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>    <span class="n">loc</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">start</span>
<span class="linenos"> 7</span>    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>    <span class="k">while</span> <span class="n">loc</span> <span class="o">!=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">goal</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="c1"># Leave a scent at current loc</span>
<span class="linenos">11</span>        <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos">12</span>
<span class="linenos">13</span>        <span class="c1"># Build list of unexplored locations. A move is possible if there&#39;s not</span>
<span class="linenos">14</span>        <span class="c1"># a wall in that direction. We also add unexplored locations only once.</span>
<span class="linenos">15</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> \
<span class="linenos">16</span>            <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">17</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
<span class="linenos">18</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">southwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> \
<span class="linenos">19</span>            <span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">20</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
<span class="linenos">21</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eastwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> \
<span class="linenos">22</span>            <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">23</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">24</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">westwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="ow">and</span> \
<span class="linenos">25</span>            <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">26</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">27</span>
<span class="linenos">28</span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frontier</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">29</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No solution&#39;</span><span class="p">)</span>
<span class="linenos">30</span>            <span class="k">return</span>
<span class="linenos">31</span>
<span class="linenos">32</span>        <span class="c1"># Choose a location from the frontier as next to explore</span>
<span class="linenos">33</span>        <span class="n">loc</span> <span class="o">=</span> <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="linenos">34</span>        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">35</span>
<span class="linenos">36</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Found a solution&#39;</span><span class="p">)</span>
<span class="linenos">37</span>    <span class="nb">print</span><span class="p">(</span><span class="n">my_map</span><span class="p">)</span>
<span class="linenos">38</span>    <span class="k">return</span>
</pre></div>
</div>
<p>Think about what is printed when the start location matches the goal location. Will the script place a star (<code class="docutils literal notranslate"><span class="pre">*</span></code>) on that shared location? It won’t because the while-loop won’t ever execute. Now think about what is printed when the start and goal locations are different (and a path exists). The script still won’t mark the goal location. We can fix this by shifting when we put a star on a location: We’ll mark a location when we <em>decide to explore it</em> instead of as we <em>start exploring it</em>. The script <code class="docutils literal notranslate"><span class="pre">directions0.py</span></code> does exactly this.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/directions0.py -- Finding driving directions (first try)</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">maze</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Marks for map, which use color codes for terminal printing</span>
<span class="linenos"> 5</span><span class="n">EXPLORED</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[34m*</span><span class="se">\033</span><span class="s1">[0m&#39;</span> <span class="c1"># blue *</span>
<span class="linenos"> 6</span><span class="n">FRONTIER</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[32mf</span><span class="se">\033</span><span class="s1">[0m&#39;</span>      <span class="c1"># green f</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">my_map</span><span class="p">):</span>
<span class="linenos"> 9</span>    <span class="n">g</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">grid</span>
<span class="linenos">10</span>    <span class="n">frontier</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="n">loc</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">start</span>
<span class="linenos">13</span>    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">14</span>    <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">EXPLORED</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="k">while</span> <span class="n">loc</span> <span class="o">!=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">goal</span><span class="p">:</span>
<span class="linenos">17</span>        <span class="c1"># Build list of unexplored locations. A move is possible if there&#39;s not</span>
<span class="linenos">18</span>        <span class="c1"># a wall in that direction. We also add unexplored locations only once.</span>
<span class="linenos">19</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> \
<span class="linenos">20</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">21</span>            <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">22</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
<span class="linenos">23</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">24</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">southwall</span> <span class="ow">and</span> \
<span class="linenos">25</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">26</span>            <span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">27</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
<span class="linenos">28</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">29</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eastwall</span> <span class="ow">and</span> \
<span class="linenos">30</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">31</span>            <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">32</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">33</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">34</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">westwall</span> <span class="ow">and</span> \
<span class="linenos">35</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">36</span>            <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">frontier</span><span class="p">:</span>
<span class="linenos">37</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">38</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">39</span>
<span class="linenos">40</span>        <span class="c1"># my_map.print() # uncomment to see the frontier grow</span>
<span class="linenos">41</span>
<span class="linenos">42</span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frontier</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">43</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No solution&#39;</span><span class="p">)</span>
<span class="linenos">44</span>            <span class="k">return</span>
<span class="linenos">45</span>
<span class="linenos">46</span>        <span class="c1"># Choose a location from the frontier as next to explore</span>
<span class="linenos">47</span>        <span class="n">loc</span> <span class="o">=</span> <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="linenos">48</span>        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">49</span>        <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">EXPLORED</span>
<span class="linenos">50</span>
<span class="linenos">51</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Found a solution&#39;</span><span class="p">)</span>
<span class="linenos">52</span>    <span class="n">my_map</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="linenos">53</span>    <span class="k">return</span>
</pre></div>
</div>
<div class="admonition-you-try-it admonition">
<p class="admonition-title">You Try It</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">search</span></code> on the map from <a class="reference internal" href="#c11-fig1-ref"><span class="std std-numref">Figure 28</span></a>. You can do this by running the next code block if you’re reading this chapter as an interactive Python notebook, or by executing <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">directions0.py</span></code> in the shell, if you’ve grabbed the code distributed with this chapter.</p>
<p>You should see an output map with blue stars on all explored locations and green f-characters on locations that were added to the frontier list but never explored.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">54</span><span class="c1">### chap11/directions0.py -- Finding driving directions (first try)</span>
<span class="linenos">55</span><span class="kn">import</span> <span class="nn">maze</span>
<span class="linenos">56</span>
<span class="linenos">57</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building our map&#39;</span><span class="p">)</span>
<span class="linenos">58</span><span class="n">my_map</span> <span class="o">=</span> <span class="n">maze</span><span class="o">.</span><span class="n">Maze</span><span class="p">(</span><span class="n">maze</span><span class="o">.</span><span class="n">MAZE_map</span><span class="p">,</span> <span class="n">maze</span><span class="o">.</span><span class="n">MAZE_map_endpts</span><span class="p">)</span>
<span class="linenos">59</span><span class="n">my_map</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="linenos">60</span>
<span class="linenos">61</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Starting the search&#39;</span><span class="p">)</span>
<span class="linenos">62</span><span class="n">search</span><span class="p">(</span><span class="n">my_map</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="remembering-how-we-got-there">
<p><strong>Remembering how we got there.</strong> It’s now time for us to add to <code class="docutils literal notranslate"><span class="pre">search</span></code> the other piece of tracking I mentioned, i.e., keeping extra information to record the actions taken. While we’d like to record only the actions on the path from start to goal, we won’t know which they are until the search comes across the goal. Until that point, it must record the actions from all its explorations. Visually, <code class="docutils literal notranslate"><span class="pre">search</span></code> needs to record the actions it took along the five orange paths in <a class="reference internal" href="#c11-fig3-ref"><span class="std std-numref">Figure 30</span></a>, which didn’t reach the goal, as well as the single blue path, which did.</p>
<figure class="align-default" id="c11-fig3-ref">
<img alt="_images/c11_fig3.png" src="_images/c11_fig3.png" />
<figcaption>
<p><span class="caption-number">Fig. 30 </span><span class="caption-text">The six paths explored during the execution of <code class="docutils literal notranslate"><span class="pre">search</span></code> on our example map.</span><a class="headerlink" href="#c11-fig3-ref" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Recording paths like these (i.e., moving from one state to another by taking some action) is a pattern that you’ll see in many computational problems.</p>
</div>
<p>We record these paths by building a data structure that mimics the tree-like structure you see in <a class="reference internal" href="#c11-fig3-ref"><span class="std std-numref">Figure 30</span></a>. In this figure, all paths take the same first five actions (i.e., go east, east, east, then north and north again). At location <code class="docutils literal notranslate"><span class="pre">(5,4)</span></code>, two of the orange paths head west and the rest of the paths, including our desired blue one, head east. These first five actions represent the trunk of the imagined tree, and location <code class="docutils literal notranslate"><span class="pre">(5,4)</span></code> represents the first branching of the tree.</p>
<p>We can digitally represent this tree by connecting together a series of notes to ourselves, each of which we’ll call a <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code>. In these notes, the <code class="docutils literal notranslate"><span class="pre">search</span></code> function will record:</p>
<ol class="arabic simple">
<li><p>a state (in our problem this is a map location); and</p></li>
<li><p>the action (i.e., a driving direction) taken by our <code class="docutils literal notranslate"><span class="pre">search</span></code> function that is connected to the recorded state.</p></li>
</ol>
<p>I cryptically described the stored action and that’s because we have a choice: Do we want to record the action <code class="docutils literal notranslate"><span class="pre">search</span></code> took <em>from</em> the state in the note, or would it be better to record the action <code class="docutils literal notranslate"><span class="pre">search</span></code> took <em>to get to</em> that state? Well, which do we need to solve the problem in front of us? Which will help distinguish the blue path from the orange ones in <a class="reference internal" href="#c11-fig3-ref"><span class="std std-numref">Figure 30</span></a>? To answer this question, think about what you want to know when <code class="docutils literal notranslate"><span class="pre">search</span></code> finds the goal.</p>
<p>There’s nowhere to go from the goal, since <code class="docutils literal notranslate"><span class="pre">search</span></code> has found where we want to go, but it needs to know how it got to there. So it needs to record the previous action that got it to the current location. And to walk all the way back from goal to start, it will want to chain the notes together. Using Python classes, the data structure I’m describing would look as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">():</span>
<span class="linenos">2</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
<span class="linenos">3</span>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">state</span>    <span class="c1"># current location </span>
<span class="linenos">4</span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>  <span class="c1"># previous note in path</span>
<span class="linenos">5</span>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="n">action</span>  <span class="c1"># action that got us to this location</span>
</pre></div>
</div>
<p>As an example of this chaining, the <code class="docutils literal notranslate"><span class="pre">search</span></code> function would start by creating a note for the start location, which it creates by calling the <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code> constructor with parameters that say there is no parent note and no action that got us to start, i.e., <code class="docutils literal notranslate"><span class="pre">TreeNode((7,1),</span> <span class="pre">None,</span> <span class="pre">None)</span></code>. From start, the only move to make in our example map is east, and the constructor call for the next location is: <code class="docutils literal notranslate"><span class="pre">TreeNode((7,2),</span> <span class="pre">???,</span> <span class="pre">'east')</span></code>, where I’ve left the <code class="docutils literal notranslate"><span class="pre">parent</span></code> parameter unspecified. What is it supposed to be? Right! The note (i.e., the name of the <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code>) created at start. With the name proceeding note in our current note, we’ll be able to find the location that proceeded the goal. And from it the location before it, all the way back to the start.</p>
<p>Interestingly, branching points present no difficulties when proceeding in a tree from a leaf to the root. A branching location is the parent to all paths that emanate from this point! This means, if we start at the end of the blue path (i.e., the goal), <code class="docutils literal notranslate"><span class="pre">search</span></code> can easily follow the notes it created directly back to start, and to produce driving directions, it simply reverses the list of actions it encounters as it visits each <code class="docutils literal notranslate"><span class="pre">parent</span></code> from goal to start.</p>
</section>
<section id="the-solution">
<p><strong>The solution.</strong> We’ve now have all the components we need for our problem solution, and we just have to put them together. Let’s start with the changes we need to make to the while-loop initialization and its body, which is the code that searches the map (lines 17-66 below). The trickiest part here is making sure that you have the data you need when you want to create a <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code> and deciding what you want to store in the frontier list.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">directions0.py</span></code>, we stored unexplored map locations in the frontier list, but now when we pop from the list one of the unexplored locations, we are going to want to have access to the note (i.e., <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code>) that goes with it. It is needed to build the notes for the unexplored locations reachable from that <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code>’s location. If you think about this for a bit, you’ll realize that we’ll want to store the notes on the frontier list, since a <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code> contains the map location corresponding to it. A complete solution for <code class="docutils literal notranslate"><span class="pre">search</span></code> is shown in the next code block.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap11/directions-dfs.py</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">maze</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Marks for map, which use color codes for terminal printing</span>
<span class="linenos"> 5</span><span class="n">EXPLORED</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[34m*</span><span class="se">\033</span><span class="s1">[0m&#39;</span> <span class="c1"># blue *</span>
<span class="linenos"> 6</span><span class="n">FRONTIER</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[32mf</span><span class="se">\033</span><span class="s1">[0m&#39;</span> <span class="c1"># green f</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># Keep track of the tree of explored paths</span>
<span class="linenos"> 9</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">():</span>
<span class="linenos">10</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
<span class="linenos">11</span>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">state</span>    <span class="c1"># current location </span>
<span class="linenos">12</span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>  <span class="c1"># previous note in path</span>
<span class="linenos">13</span>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="n">action</span>  <span class="c1"># action that got us to this location</span>
<span class="linenos">14</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">my_map</span><span class="p">):</span>
<span class="linenos">17</span>    <span class="n">g</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">grid</span>
<span class="linenos">18</span>    <span class="n">frontier</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="c1"># Initialize the variables used in the while-loop</span>
<span class="linenos">21</span>    <span class="c1"># with values from the start location</span>
<span class="linenos">22</span>    <span class="n">loc</span> <span class="o">=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">start</span>
<span class="linenos">23</span>    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">24</span>    <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">EXPLORED</span>
<span class="linenos">25</span>    <span class="n">cur_node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="linenos">26</span>
<span class="linenos">27</span>    <span class="c1"># Search loop</span>
<span class="linenos">28</span>    <span class="k">while</span> <span class="n">loc</span> <span class="o">!=</span> <span class="n">my_map</span><span class="o">.</span><span class="n">goal</span><span class="p">:</span>
<span class="linenos">29</span>        <span class="c1"># Build list of unexplored locations. A move is possible if there&#39;s not</span>
<span class="linenos">30</span>        <span class="c1"># a wall in that direction. We also add unexplored locations only once.</span>
<span class="linenos">31</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">northwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">32</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">FRONTIER</span><span class="p">:</span>
<span class="linenos">33</span>            <span class="n">new_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
<span class="linenos">34</span>            <span class="n">new_node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">new_loc</span><span class="p">,</span> <span class="n">cur_node</span><span class="p">,</span> <span class="s1">&#39;north&#39;</span><span class="p">)</span>
<span class="linenos">35</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
<span class="linenos">36</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">37</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">southwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">38</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">FRONTIER</span><span class="p">:</span>
<span class="linenos">39</span>            <span class="n">new_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
<span class="linenos">40</span>            <span class="n">new_node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">new_loc</span><span class="p">,</span> <span class="n">cur_node</span><span class="p">,</span> <span class="s1">&#39;south&#39;</span><span class="p">)</span>
<span class="linenos">41</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
<span class="linenos">42</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">43</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eastwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">44</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">FRONTIER</span><span class="p">:</span>
<span class="linenos">45</span>            <span class="n">new_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">46</span>            <span class="n">new_node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">new_loc</span><span class="p">,</span> <span class="n">cur_node</span><span class="p">,</span> <span class="s1">&#39;east&#39;</span><span class="p">)</span>
<span class="linenos">47</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
<span class="linenos">48</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">49</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">westwall</span> <span class="ow">and</span> <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">EXPLORED</span> <span class="ow">and</span> \
<span class="linenos">50</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">!=</span> <span class="n">FRONTIER</span><span class="p">:</span>
<span class="linenos">51</span>            <span class="n">new_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">52</span>            <span class="n">new_node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">new_loc</span><span class="p">,</span> <span class="n">cur_node</span><span class="p">,</span> <span class="s1">&#39;west&#39;</span><span class="p">)</span>
<span class="linenos">53</span>            <span class="n">frontier</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
<span class="linenos">54</span>            <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">FRONTIER</span>
<span class="linenos">55</span>
<span class="linenos">56</span>        <span class="c1"># my_map.print() # uncomment to see the frontier grow</span>
<span class="linenos">57</span>
<span class="linenos">58</span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frontier</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">59</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No solution&#39;</span><span class="p">)</span>
<span class="linenos">60</span>            <span class="k">return</span>
<span class="linenos">61</span>
<span class="linenos">62</span>        <span class="c1"># Choose a location from the frontier as next to explore</span>
<span class="linenos">63</span>        <span class="n">cur_node</span> <span class="o">=</span> <span class="n">frontier</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="linenos">64</span>        <span class="n">loc</span> <span class="o">=</span> <span class="n">cur_node</span><span class="o">.</span><span class="n">state</span>
<span class="linenos">65</span>        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
<span class="linenos">66</span>        <span class="n">g</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">EXPLORED</span>
<span class="linenos">67</span>
<span class="linenos">68</span>    <span class="c1"># Follow the parent links from cur_node to create</span>
<span class="linenos">69</span>    <span class="c1"># the actual driving directions</span>
<span class="linenos">70</span>    <span class="n">ddirections</span> <span class="o">=</span> <span class="p">[</span><span class="n">cur_node</span><span class="p">]</span>
<span class="linenos">71</span>    <span class="k">while</span> <span class="n">cur_node</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
<span class="linenos">72</span>        <span class="n">cur_node</span> <span class="o">=</span> <span class="n">cur_node</span><span class="o">.</span><span class="n">parent</span>
<span class="linenos">73</span>        <span class="n">ddirections</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cur_node</span><span class="p">)</span>
<span class="linenos">74</span>
<span class="linenos">75</span>    <span class="c1"># Print out the driving directions</span>
<span class="linenos">76</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## Solution ##&#39;</span><span class="p">)</span>
<span class="linenos">77</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting at </span><span class="si">{</span><span class="n">ddirections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">state</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">78</span>    <span class="n">ddirections</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">79</span>    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ddirections</span><span class="p">:</span>
<span class="linenos">80</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Go </span><span class="si">{</span><span class="n">n</span><span class="o">.</span><span class="n">action</span><span class="si">}</span><span class="s1"> then&#39;</span><span class="p">)</span>
<span class="linenos">81</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Arrive at your goal&#39;</span><span class="p">)</span>
<span class="linenos">82</span>    <span class="k">return</span>
</pre></div>
</div>
<p>If you compare this code to the same while-loop initialization and body of <code class="docutils literal notranslate"><span class="pre">directions0.py</span></code>, you’ll see that the only differences are the creation of notes and the maintenance of them on the frontier list. In this, pay careful attention to the difference between <code class="docutils literal notranslate"><span class="pre">cur_node</span></code> and <code class="docutils literal notranslate"><span class="pre">new_node</span></code>. The first is a loop-carried variable, which we update at the end of the while-loop and use throughout the early part of this loop body. The second (<code class="docutils literal notranslate"><span class="pre">new_node</span></code>) is just a temporary name that we don’t want to overwrite the value in <code class="docutils literal notranslate"><span class="pre">cur_node</span></code> that we have to use multiple times.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>I did change the form of the third condition in the if-statements on lines 32, 38, 44, and 50. I did this because we cannot easily search the frontier list for <code class="docutils literal notranslate"><span class="pre">new_loc</span></code>, which is buried in the elements of <code class="docutils literal notranslate"><span class="pre">frontier</span></code>. This is an example of finding a logically equivalent way to perform an operation that you need, but your programming language doesn’t make easy. It is also an example of why programming is an art.</p>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">search</span></code> encounters the goal and the while-loop ends, the interpreter begins execution of the code on lines 68-81. These are the lines that use our notes to create the driving directions we desire. The first block (lines 68-73) starts with <code class="docutils literal notranslate"><span class="pre">cur_node</span></code>, which is the goal location when the while-loop exits, and builds a list (called <code class="docutils literal notranslate"><span class="pre">ddirections</span></code>) that is the reverse of the order in which we are visiting the notes on the path from goal to start. The second block (lines 75-81) uses this list to print the actions in human-readable form for the path from start to goal. The only trickiness is on line 78 where we have to remember to remove the note corresponding to the start location, which has no stored action.</p>
<p>You can run this complete <code class="docutils literal notranslate"><span class="pre">search</span></code> function using the same code block from earlier (i.e., the one we used to run the <code class="docutils literal notranslate"><span class="pre">search</span></code> function in <code class="docutils literal notranslate"><span class="pre">directions0.py</span></code>). Both pass in a map with designated start and goal locations; they simply differ in what they print!</p>
</section>
<section id="depth-first-search-dfs">
<p><strong>Depth-first search (DFS).</strong> The search we built (in the script named <code class="docutils literal notranslate"><span class="pre">directions-dfs.py</span></code>) is what is called a <em>depth-first search</em>. If you uncomment line 56, <code class="docutils literal notranslate"><span class="pre">search</span></code> will print a sequence of maps corresponding to each step it makes. If you review these maps in order, you’ll notice that <code class="docutils literal notranslate"><span class="pre">search</span></code> goes down a road as far as it can before backing up and trying a different road. When it encounters an intersection, it chooses a direction through that intersection and keeps going.</p>
<p>It’s clearly not the only thing it could have done, and if we want to do something different, we need to understand what caused this behavior. The answer is amazingly simple: the way in which we add elements to and remove them from the frontier list. The current code does the following:</p>
<ul class="simple">
<li><p>When we find a new unexplored location, we <em>append it to the end</em> of the frontier list.</p></li>
<li><p>When we go to explore a new location, we <em>pop one off the end</em> of the frontier list. In Python, <code class="docutils literal notranslate"><span class="pre">pop</span></code> with no arguments removes the last item from the list.</p></li>
</ul>
<p>Computer scientists like to talk about this behavior as “last-in, first-out” and to imagine working with a <em>stack</em>, like a stack of plates. The last one added to the stack is the first one taken off.</p>
<p>What’s good about this approach? Well, if we’re lucky, the first path we explore might lead us to the goal state, and even if we’re not, this approach can be very fast in finding a solution when there are many possible solutions. On the other hand, when there are many paths to the goal, this approach just takes the first it finds. There’s no guarantee that our DFS solution is the shortest path.</p>
</section>
<section id="breadth-first-search-bfs">
<p><strong>Breadth-first search (BFS).</strong> But what if we’re interested in finding the <em>shortest path</em> from start to goal (i.e., let’s change our specification). Can we change the way <code class="docutils literal notranslate"><span class="pre">search</span></code> operates to guarantee that it returns the shortest path, if one exists? We can, and what’s even more amazing is that it requires only a single character change to our current <code class="docutils literal notranslate"><span class="pre">search</span></code> function!</p>
<div class="admonition-you-try-it admonition">
<p class="admonition-title">You Try It</p>
<p>Change line 63 so that you pass a <code class="docutils literal notranslate"><span class="pre">0</span></code> as the parameter to <code class="docutils literal notranslate"><span class="pre">pop</span></code>, or verify that this is the only difference between <code class="docutils literal notranslate"><span class="pre">directions-dfs.py</span></code> and <code class="docutils literal notranslate"><span class="pre">directions-bfs.py</span></code>. Now run the BFS script and watch how the maze is explored. How would you describe the two search approaches?</p>
</div>
<p>Both versions of <code class="docutils literal notranslate"><span class="pre">search</span></code> place new unexplored locations at the end of the frontier list; they differ only in how they take unexplored locations from the frontier list. DFS takes from the end, and BFS, or <em>breadth-first search</em>, takes from the front. Instead of “last-in, first-out” as under DFS, BFS manages the frontier in a “first-in, first-out” manner, which is what computer scientists called a <em>queue</em>. Imagine the line that queues up to check-out at a grocery store.</p>
<p>When you watched the BFS script operate, you saw the search expand in all directions at the same rate. In other words, no explored path was more than one step longer than any other path. This means that <code class="docutils literal notranslate"><span class="pre">search</span></code> will find the shortest path (or technically, one of the shortest) from start to goal before any longer path. This approach is guaranteed to find the shortest path, but at the cost of searching methodically along every path.</p>
<div class="admonition-you-try-it admonition">
<p class="admonition-title">You Try It</p>
<p>If you take the time to figure out how the configuration strings work in <code class="docutils literal notranslate"><span class="pre">maze.py</span></code>, change the map we’ve been using or design your own, and then run them through the DFS and BFS scripts. You should find that these fairly short scripts are impressively robust!</p>
</div>
</section>
<section id="informed-searches">
<p><strong>Informed searches.</strong> Both DFS and BFS are called <em>uninformed searches</em> because they don’t use any information about the problem except what they gleam from their own explorations. This means that you can directly use these algorithms on any goal-directed search problem. You just need to encode your problem in a data structure comprising interconnected states, and then adapt the data-structure-specific parts of <code class="docutils literal notranslate"><span class="pre">search</span></code> to explore it!</p>
<p>But what if we were interested not in any goal-directed problem, but a specific one. Could we use information about the problem to create an algorithm that combines the direct-to-goal-nature of DFS with the good-answer-aspects of BFS? In other words, could problem-specific knowledge help us to identify and avoid paths that are unlikely to be a solution? As a concrete example, how might we adapt the goal-directed searches we’ve seen for the driving directions problem if we were given the “as-the-crow-flies” distance between each map location and the goal?</p>
<p>The as-the-crow-flies distance to the goal isn’t a set of driving directions (i.e., we’re not following the map!), but it does indicate which of two moves would bring us closer to the goal. Imagine using this distance to select the search algorithm’s next location from the frontier list. We’re using the distance to put the frontier list locations in a priority order. The higher the priority, the more likely that location will get us to the goal.</p>
<p>In general, prioritizing our possible search moves is the job of a <em>heuristic function.</em> The heuristic we use, of course, might be wrong. For example, we might have to drive in a direction away from the goal to find the road that will get us to it. Heuristics don’t guarantee that we’ll do better, but good ones, on average, find a near-optimal solution more quickly than our two uninformed solutions.</p>
<p>There are many heuristics in the domain of search. I asked you to imagine a common one (called <em>greedy</em>), which always takes the move from the frontier list with the best heuristic score. Another, which often provides more consistently good results, combines the cost of the path to the current point with the value of that point’s heuristic (called <em>A* search</em>). Overall, there is a rich literature associated with search, and you are now prepared to dive into it to solve your own goal-directed search problems!</p>
<p>[Version 20240523]</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="chap10.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 10: Build an Index</p>
      </div>
    </a>
    <a class="right-next"
       href="chap12.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 12: Divide and Conquer</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-new-approach-to-programming">A new approach to programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#driving-directions-a-formal-specification">Driving directions, a formal specification</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallels-with-finite-state-machines">Parallels with finite state machines</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solutions-with-particular-characteristics">Solutions with particular characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-walk-before-we-drive">Let’s walk before we drive</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-random-walk">A random walk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#will-it-work">Will it work?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-short-walk-please">A short walk, please</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#no-loops">No loops</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#only-visit-new-spots">Only visit new spots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-dog-walk">A dog walk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation">Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maps-not-city-grids">Maps, not city grids</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#object-oriented-programming">Object-oriented programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-magic-of-magic-methods">The magic of magic methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#actions-specific-to-our-data-type">Actions specific to our data type</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-on-others">Building on others</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-an-instance">Building an instance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#representational-invariant">Representational invariant</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#self">Self</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-and-class-variables">Instance and class variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-maps">General maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keeping-track">Keeping track</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maintaining-a-frontier">Maintaining a frontier</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remembering-how-we-got-there">Remembering how we got there</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-solution">The solution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#depth-first-search-dfs">Depth-first search (DFS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breadth-first-search-bfs">Breadth-first search (BFS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#informed-searches">Informed searches</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mike Smith
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023 by Michael D. Smith. All rights reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>